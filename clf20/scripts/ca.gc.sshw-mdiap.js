var Animation={res:10,init:function(e,t,or,ot,oe,a,b){var i=this;i.e=DomHelper.$(e);i.t=t;i.or=or;i.ot=ot;i.oe=oe;i.a=a||0;i.v=xAnimation.vf[i.a];i.qc=1+(b||0);i.fq=1/i.t;if(i.a){i.fq*=i.qc*Math.PI;if(i.a==1||i.a==2){i.fq/=2;}}else{i.qc=1;}i.xd=i.x2-i.x1;i.yd=i.y2-i.y1;i.zd=i.z2-i.z1;},run:function(r){var i=this;if(!r){i.t1=new Date().getTime();}if(!i.tmr){i.tmr=setInterval(function(){i.et=new Date().getTime()-i.t1;if(i.et<i.t){i.f=i.v(i.et*i.fq);i.x=i.xd*i.f+i.x1;i.y=i.yd*i.f+i.y1;i.z=i.zd*i.f+i.z1;i.or(i);}else{clearInterval(i.tmr);i.tmr=null;if(i.qc%2){i.x=i.x2;i.y=i.y2;i.z=i.z2;}else{i.x=i.x1;i.y=i.y1;i.z=i.z1;}i.ot(i);var _b=false;if(typeof i.oe=="function"){_b=i.oe(i);}else{if(typeof i.oe=="string"){_b=eval(i.oe);}}if(_b){i.resume(1);}}},i.res);}},vf:[function(r){return r;},function(r){return Math.abs(Math.sin(r));},function(r){return 1-Math.abs(Math.cos(r));},function(r){return (1-Math.cos(r))/2;}],resume:function(fs){if(typeof this.tmr!="undefined"&&!this.tmr){this.t1=new Date().getTime();if(!fs){this.t1-=this.et;}this.run(!fs);}},pause:function(){clearInterval(this.tmr);this.tmr=null;}};window.gc.web.slideshow={sParent:null,timer:null,controls:null,slidecanvas:null,container:null,promotions:null,timer:null,active:true,slideindex:0,ff:function(_11){var _12=false;if(_11){var _13=_11.keyCode?_11.keyCode:_11.which?_11.which:_11.charCode;if((_13==9)||(_13==16)){_12=true;}}if(_12==false){window.gc.web.slideshow.slideindex++;if(!(window.gc.web.slideshow.slideindex<window.gc.web.slideshow.promotions.length)){window.gc.web.slideshow.slideindex=0;}window.gc.web.slideshow.addtocanvas(window.gc.web.slideshow.promotions[window.gc.web.slideshow.slideindex]);}return false;},rew:function(_14){var _15=false;if(_14){var _16=_14.keyCode?_14.keyCode:_14.which?_14.which:_14.charCode;if((_16==9)||(_16==16)){_15=true;}}if(_15==false){window.gc.web.slideshow.slideindex--;if(window.gc.web.slideshow.slideindex<0){window.gc.web.slideshow.slideindex=window.gc.web.slideshow.promotions.length-1;}window.gc.web.slideshow.addtocanvas(window.gc.web.slideshow.promotions[window.gc.web.slideshow.slideindex]);}return false;},toggle:function(_17){var _18=false;if(_17){var _19=_17.keyCode?_17.keyCode:_17.which?_17.which:_17.charCode;if((_19==9)||(_19==16)){_18=true;}}if(_18==false){if(window.gc.web.slideshow.active){window.gc.web.slideshow.active=false;window.gc.web.slideshow.controls.pp.firstChild.src=window.gc.web.slideshow.controls.playinfo.image;window.gc.web.slideshow.controls.pp.setAttribute("title",window.gc.web.slideshow.controls.playinfo.text);}else{window.gc.web.slideshow.active=true;window.gc.web.slideshow.controls.pp.firstChild.src=window.gc.web.slideshow.controls.pauseinfo.image;window.gc.web.slideshow.controls.pp.setAttribute("title",window.gc.web.slideshow.controls.pauseinfo.text);}}return false;},createplayer:function(_1a,_1b){this.active=(_1b)?_1b:true;var _1c={play:{id:"play",image:DomHelper.$P("slideshow.interface.location")+"/play-jouer.gif",text:(DomHelper.$P("language")=="eng")?"play":"jouer"},pause:{id:"pause",image:DomHelper.$P("slideshow.interface.location")+"/pause.gif",text:"pause"},fforward:{id:"fforward",image:DomHelper.$P("slideshow.interface.location")+"/next-suiv.gif",text:(DomHelper.$P("language")=="eng")?"next":"suivant"},rewind:{id:"rewind",image:DomHelper.$P("slideshow.interface.location")+"/prev-prec.gif",text:(DomHelper.$P("language")=="eng")?"back":"pr\xe9c\xe9dent"}};this.container=document.createElement("div");this.container.setAttribute("id","slideshow-container");this.slidecanvas={container:DomHelper.createTag("div","slidecontainer",70,195),image:DomHelper.createTag("img","slidecontainer-image",70,195),link:DomHelper.createTag("a","slidecontainer-link")};this.slidecanvas.link.appendChild(this.slidecanvas.image);Tltps.blessLink(this.slidecanvas.link);this.slidecanvas.container.appendChild(this.slidecanvas.link);var _1d=document.createElement("div");_1d.setAttribute("id","slideinterface");_1d.align="right";this.controls={rewind:window.gc.web.slideshow.createButton(_1c.rewind,_1d,window.gc.web.slideshow.rew),pp:window.gc.web.slideshow.createButton(_1c.pause,_1d,window.gc.web.slideshow.toggle),fforward:window.gc.web.slideshow.createButton(_1c.fforward,_1d,window.gc.web.slideshow.ff),playinfo:_1c.play,pauseinfo:_1c.pause};this.container.appendChild(this.slidecanvas.container);this.container.appendChild(_1d);window.gc.web.slideshow.loadimagesequence(_1a);_1a.parentNode.insertBefore(this.container,_1a);},addtocanvas:function(_1e){this.slidecanvas.image.setAttribute("src",_1e.imgsrc);this.slidecanvas.image.setAttribute("alt",_1e.text);this.slidecanvas.link.setAttribute("href",_1e.href);this.slidecanvas.link.setAttribute("title",_1e.text);},createButton:function(_1f,_20,_21){var tag=document.createElement("a");tag.setAttribute("id",_1f.id+"-id");tag.setAttribute("title",_1f.text);tag.setAttribute("tabindex","0");tag.style.cursor=(RenderMagic.is_ie()&&!(window.XMLHttpRequest))?"hand":"pionter";tag.setAttribute("href","#");DomHelper.addEventListener(tag,"click",_21,false);Tltps.blessLink(tag);var _23=document.createElement("img");_23.setAttribute("src",_1f.image);_23.setAttribute("alt",_1f.text);_23.setAttribute("height","19px");_23.setAttribute("width","20px");tag.appendChild(_23);_20.appendChild(tag);return tag;},promotionweight:function(_24){if(_24.indexOf("ss-double")>-1){return 2;}if(_24.indexOf("ss-triple")>-1){return 3;}if(_24.indexOf("ss-quadruple")>-1){return 4;}return 1;},addtopromotions:function(_25,_26){var _27=true;for(var i=0;i<_25.length;i++){var _29=(i>0)?(i-1):i;if((_25[_29].imgsrc!=_26.imgsrc)&&(_25[i].imgsrc!=_26.imgsrc)&&_27){_25.splice(i,0,_26);_27=false;}}},loadimagesequence:function(_2a){var _2b=DomHelper.getElementsByTagName("li",_2a);this.promotions=new Array();for(var i=0;i<_2b.length;i++){var _2d={imgsrc:DomHelper.readAttribute(DomHelper.getElementsByTagName("img",_2b[i])[0],"src"),href:DomHelper.readAttribute(DomHelper.getElementsByTagName("a",_2b[i])[0],"href"),text:DomHelper.getElementsByTagName("a",_2b[i])[1].innerHTML,wieght:window.gc.web.slideshow.promotionweight(_2b[i].className)};var _2e=DomHelper.getElementsByTagName("a",_2b[i])[0];var br=DomHelper.getElementsByTagName("br",_2b[i])[0];_2e.parentNode.removeChild(_2e);br.parentNode.removeChild(br);this.promotions.push(_2d);if(_2d.wieght>1){for(var w=0;w<_2d.wieght-1;w++){window.gc.web.slideshow.addtopromotions(this.promotions,_2d);}}}window.gc.web.slideshow.addtocanvas(this.promotions[0]);this.slideindex=0;},rotateslide:function(){if(window.gc.web.slideshow.active){window.gc.web.slideshow.ff();}return false;},init:function(){var _31=DomHelper.$(DomHelper.$P("slideshow.id"));window.gc.web.slideshow.createplayer(_31,DomHelper.$P("slideshow.active"));window.gc.web.slideshow.timer=setInterval("window.gc.web.slideshow.rotateslide()",(DomHelper.$P("slideshow.speed")*1000));}};DomHelper.$FINDEX(window.gc.web.slideshow.init);